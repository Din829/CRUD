# æ•°æ®åº“ç®¡ç†å·¥å…·ç•Œé¢å®ç°è®¡åˆ’

## ğŸ¯ ç›®æ ‡æ•ˆæœ
å®ç°ç±»ä¼¼æ•°æ®åº“ç®¡ç†å·¥å…·çš„ç•Œé¢ï¼š
- å·¦ä¾§ï¼šæ•°æ®åº“ç»“æ„æ ‘å½¢è§†å›¾
- å³ä¾§ï¼šé€‰ä¸­è¡¨çš„æ•°æ®å®æ—¶å±•ç¤ºï¼ˆåªè¯»ï¼‰

## ğŸ“‹ å®ç°æ­¥éª¤

### é˜¶æ®µä¸€ï¼šåŸºç¡€åŠŸèƒ½å®ç°

#### 1. åˆ›å»ºæ–°çš„æ•°æ®æŸ¥çœ‹å™¨ç»„ä»¶
```typescript
// frontend/src/components/data/DataViewer.tsx
interface DataViewerProps {
  selectedTable: string | null
}

åŠŸèƒ½ï¼š
- æ¥æ”¶é€‰ä¸­çš„è¡¨å
- è‡ªåŠ¨æŸ¥è¯¢è¡¨æ•°æ®
- å±•ç¤ºè¡¨æ ¼æ•°æ®
- åŠ è½½çŠ¶æ€å¤„ç†
```

#### 2. å¢å¼ºSchemaViewç»„ä»¶
```typescript
// æ·»åŠ è¡¨åç‚¹å‡»äº‹ä»¶
const handleTableClick = (tableName: string) => {
  onTableSelect(tableName) // é€šçŸ¥çˆ¶ç»„ä»¶
}

// é«˜äº®æ˜¾ç¤ºé€‰ä¸­çš„è¡¨
className={selectedTable === tableName ? 'bg-blue-50' : ''}
```

#### 3. ä¿®æ”¹ä¸»é¡µé¢å¸ƒå±€
```typescript
// frontend/src/app/page.tsx
const [selectedTable, setSelectedTable] = useState<string | null>(null)

å³ä¾§åŒºåŸŸï¼š
- ä¸ŠåŠéƒ¨åˆ†ï¼šSchemaView (å¯æŠ˜å )
- ä¸‹åŠéƒ¨åˆ†ï¼šDataViewer (ä¸»è¦åŒºåŸŸ)
```

#### 4. æ·»åŠ æ•°æ®è·å–é€»è¾‘
```typescript
// frontend/src/lib/api.ts
static async getTableData(tableName: string, page = 1, limit = 50) {
  const offset = (page - 1) * limit
  const query = `SELECT * FROM \`${tableName}\` LIMIT ${limit} OFFSET ${offset}`
  return await this.executeQuery(query)
}
```

### é˜¶æ®µäºŒï¼šç”¨æˆ·ä½“éªŒä¼˜åŒ–

#### 1. æ™ºèƒ½åˆ†é¡µ
- å¤§è¡¨(>1000è®°å½•)è‡ªåŠ¨åˆ†é¡µ
- å°è¡¨(<100è®°å½•)å…¨é‡æ˜¾ç¤º
- åˆ†é¡µæ§ä»¶é›†æˆ

#### 2. å®æ—¶æœç´¢
- è¡¨å†…æ•°æ®æœç´¢
- å­—æ®µçº§ç­›é€‰
- æœç´¢ç»“æœé«˜äº®

#### 3. æ•°æ®ç»Ÿè®¡
- æ˜¾ç¤ºæ€»è®°å½•æ•°
- å„å­—æ®µçš„æ•°æ®ç±»å‹ç»Ÿè®¡
- NULLå€¼æ¯”ä¾‹æ˜¾ç¤º

#### 4. è§†è§‰ä¼˜åŒ–
- è¡¨æ ¼æ–‘é©¬çº¹
- å­—æ®µç±»å‹å›¾æ ‡
- æ•°æ®ç±»å‹é¢œè‰²ç¼–ç 

## ğŸ”§ æŠ€æœ¯å®ç°è¦ç‚¹

### æ€§èƒ½ä¼˜åŒ–
```typescript
// 1. é˜²æŠ–æŸ¥è¯¢
const debouncedTableSelect = useDebouncedCallback((tableName: string) => {
  fetchTableData(tableName)
}, 300)

// 2. ç¼“å­˜æœºåˆ¶  
const tableDataCache = new Map<string, CachedData>()

// 3. è™šæ‹Ÿæ»šåŠ¨ (å¯¹äºå¤§æ•°æ®é›†)
import { FixedSizeList as List } from 'react-window'
```

### é”™è¯¯å¤„ç†
```typescript
// 1. ç½‘ç»œé”™è¯¯å¤„ç†
// 2. è¡¨ä¸å­˜åœ¨å¤„ç†
// 3. æƒé™é”™è¯¯å¤„ç†
// 4. è¶…æ—¶å¤„ç†
```

### çŠ¶æ€ç®¡ç†
```typescript
// æ‰©å±•dataStore
interface DataState {
  selectedTable: string | null
  tableDataCache: Map<string, TableData>
  tableListData: Map<string, Record<string, any>[]>
  setSelectedTable: (table: string | null) => void
  getTableData: (table: string) => Promise<void>
}
```

## ğŸ“Š é¢„æœŸæ•ˆæœ

### ç”¨æˆ·ä½“éªŒ
1. **å³æ—¶å“åº”** - ç‚¹å‡»è¡¨åç«‹å³åŠ è½½æ•°æ®
2. **æµç•…äº¤äº’** - è¡¨æ ¼æ’åºã€æœç´¢ã€åˆ†é¡µæµç•…
3. **è§†è§‰ç›´è§‚** - æ•°æ®ç±»å‹ä¸€ç›®äº†ç„¶
4. **æ“ä½œç®€å•** - æ— éœ€è¾“å…¥SQLï¼Œç‚¹å‡»å³å¯æŸ¥çœ‹

### æŠ€æœ¯æ•ˆæœ
1. **æ€§èƒ½ä¼˜è‰¯** - å¤§è¡¨åˆ†é¡µåŠ è½½ï¼Œå°è¡¨ç¼“å­˜
2. **é”™è¯¯å‹å¥½** - å®Œå–„çš„é”™è¯¯æç¤ºå’Œå¤„ç†
3. **æ‰©å±•æ€§å¼º** - åç»­å¯è½»æ¾æ·»åŠ æ›´å¤šåŠŸèƒ½

## ğŸ•’ å¼€å‘æ—¶é—´ä¼°ç®—

- **é˜¶æ®µä¸€åŸºç¡€åŠŸèƒ½**: 2-3å°æ—¶
- **é˜¶æ®µäºŒä½“éªŒä¼˜åŒ–**: 3-4å°æ—¶
- **æµ‹è¯•å’Œè°ƒä¼˜**: 1-2å°æ—¶

**æ€»è®¡**: 6-9å°æ—¶å¯å®Œæˆå®Œæ•´åŠŸèƒ½

## ğŸ‰ æˆæœå±•ç¤º

å®Œæˆåå°†å®ç°ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å·¦ä¾§: æ•°æ®åº“ç»“æ„    â”‚  å³ä¾§: è¡¨æ•°æ®å±•ç¤º   â”‚
â”‚  â”œâ”€ğŸ“Š users (é€‰ä¸­)   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”œâ”€ğŸ“Š orders        â”‚  â”‚ id â”‚name â”‚email â”‚ â”‚  
â”‚  â”œâ”€ğŸ“Š products      â”‚  â”‚ 1  â”‚å¼ ä¸‰  â”‚zh@..â”‚ â”‚
â”‚  â””â”€ğŸ“Š categories    â”‚  â”‚ 2  â”‚æå››  â”‚li@..â”‚ â”‚
â”‚                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚  [1] [2] [3] ... [10]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è¿™å°†æ˜¯ä¸€ä¸ªä¸“ä¸šçº§çš„æ•°æ®åº“æŸ¥çœ‹å·¥å…·ï¼ 